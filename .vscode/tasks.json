{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "rust: build debug (rpi zero 2 w)",
            "type": "shell",
            "command": "make",
            "args": [
                "build-debug"
            ],
            "group": "build",
        },
        {
            "label": "rust: build release (rpi zero 2 w)",
            "type": "shell",
            "command": "make",
            "args": [
                "build-release"
            ],
            "group": "build",
        },
        {
            "label": "rust: send release (rpi zero 2 w)",
            "type": "shell",
            "command": "make",
            "args": [
                "send-release"
            ],
            "group": "build",
        },
        {
            "label": "rust: dist (rpi zero 2 w)",
            "type": "shell",
            "command": "make",
            "args": [
                "dist"
            ],
            "group": "build",
        },
        //
        // For debug
        {
            "label": "debug: killall",
            "type": "shell",
            "command": "ssh saltyfishie@169.254.0.100 killall lldb-server ${workspaceFolderBasename}; echo 0"
        },
        {
            "label": "debug: write",
            "dependsOn": "debug: killall",
            "type": "shell",
            "command": "make",
            "args": [
                "debug"
            ],
        },
        {
            "label": "debug: setup",
            "dependsOn": "debug: write",
            "type": "shell",
            "command": "ssh saltyfishie@169.254.0.100 \"sh -c 'nohup lldb-server platform --server --listen *:17777' > /dev/null 2>&1 &\"",
        }
    ]
}